https://www.youtube.com/watch?v=1gUaeR5j7s8
How to use RENOVATE for automated dependency updates in Android projects
Привет, ребята! Сегодня я вам расскажу о Renovate. Это автоматизированное обновление 2-го уровня.
Как вы можете видеть, в программе Renovate есть три варианта обновления. У нас есть один вариант для Kotlin, Android и Gradle.
Каждый отдельный элемент здесь будет представлять собой отдельный PR.
Здесь написано «Ожидание по расписанию», потому что я настроился на работу в пятницу, а сегодня понедельник. Я могу либо подождать до пятницы, либо просто выбрать любой вариант здесь. А затем Renovate создаст PR-кампанию точно также.
У меня здесь есть пиарщик. Я могу добавить ярлык. Я могу добавить все необходимое из файла json, который я собираюсь показать вам позже. Я могу добавить название филиала. Так что обязательно обновляйте информацию, а затем я смогу проверить, что у нас есть для обновления.
Учитывая все, что содержится здесь, это незначительное обновление.
Все начинается с патча, а затем у нас появляется второстепенное, а потом основное обновление. Вот это и называется семантическим управлением версиями.
Если вы согласны, вы можете спуститься вниз, и объединить PR. У меня здесь возникла эта ошибка, потому что я настроил некоторую защиту мозга. Но я могу это выбрать здесь, а затем объединить свой PR.
В нашем случае, если мы получаемся доступ к этой ссылке, то вы не сможете объединиться. Так что давайте посмотрим, как вы сможете этого добиться.
Во-первых, зайди в документацию и обнови эту документацию. Я собираюсь связать все это по ссылкам в описании, так что не волнуйтесь, если вы не поймете этого прямо сейчас.
Прокрутите страницу вниз и выберите пункт «Установить свое приложение на GitHub» прямо сейчас.
Еще раз прокрутите страницу вниз. И вот здесь появится кнопка. Таким образом, мы сможем установить все необходимое бесплатно. У нас нет кредитной карты. Мне просто нужно добавить кое-какую личную информацию, например, имя и фамилию. Так что не волнуйтесь по этому поводу.
А затем вам нужно вернуться в настройки профиля учетной записи на GitHub и перейти в раздел приложения.
Как вы видите, я даю разрешение на обновление, чтобы программа Renovate могла сканировать мой код, а затем создавать PR-файлы на основе обновления Gradle или фактически зависимых обновлений.
Давайте вернемся назад и посмотрим, что Renovate собирается создать для меня после этого: первую трансляцию или PR. Это называется настройкой обновления. Так что этот PR будет содержать базовую конфигурацию в первом commit.
Как вы видите, он был зафиксирован с помощью программы Renovate.
У нас есть схема практически каждого отдельного варианта, который у нас есть. Это огромная проблема, которая связана с Android.
Теперь давайте вернемся к этому вопросу.
А затем я совершил второй набор commits. Я добавил кое-какие дополнительные настройки. Я собираюсь объяснить все позже. И вы сможете объединить этот PR-материал позже.
И позже в программе Renovate будет создан новый выпуск.
По сути дела, это информационная панель управления.
Перед вами открывается тот самый чудесный вид, который я вам показывал ранее. Давайте сразу перейдем к коду. Вот и все.
Итак, первый пункт, о котором я уже упоминал – мы можем установить в пятницу. Но вы также можете установить и выходные, в последний день месяца. Для этого вы можете ознакомиться с документацией вот здесь. Это называется планирование обновления.
А затем прокрутите страницу внизу. Здесь есть ссылка. Вот за сценой обновления используйте эту библиотеку.
Итак, у нас есть несколько примеров этого. Просто поднимитесь наверх и попробуйте сделать это сами. Убедитесь, что вы собираетесь зафиксировать это в основной ветви или главной ветви.
Если вы не знаете, какая из них является основной, вы можете получить доступ к настройкам, а затем перейти в ветвь.
Как вы видите, моя ветвь по умолчанию называется Главной. Но у вас есть нечто под названием Мастер. Обязательно объединитесь с главной ветвью.
Давайте вернемся к коду. Назовите часовой пояс. Я добавил один из них наугад просто для проверки. Вы можете найти список, в который можно добавить, например, Америку, а затем указать, где вы находитесь.
На этикетке уже указано, что вы можете добавить сюда любую этикетку. Когда вы создаете PR-акцию или когда компания Renovate создает PR-акцию для вас, у вас есть этикетка здесь. Вот она – та же самая этикетка. PR на ранней стадии, потому что мне все равно – создадите ли вы несколько PR-акций за один час. По умолчанию их будет два. Он может создавать примерно 5-10 PR-акций в час.
У нас есть базовые филиалы, потому что здесь каждый отдельный пиарщик будет объединен с разработкой.
Здесь я хочу создать единый PR для каждого крупного обновления.
Предположим, что у меня здесь есть пример, который можно лучше объяснить. Как вы можете видеть, это серьезное обновление, потому что с 7 до 8 версии. Каждое крупное обновление будет представлять собой отдельный PR-ход.
Так вот почему здесь панель мониторинга зависимости и тип на панели мониторинга страницы, когда я хочу разрешить эти проблемы, появляется этот новый вид.
На самом деле красивый вид. И я установил этот заголовок. Вы можете изменить это, если захотите. По умолчанию используется приборная панель управления. Эта панель предназначена для того, чтобы задать название филиала. Обновление происходит очень короткими скачками.
Давайте перейдем к запросу на извлечение данных. Как вы видите, обновление происходит очень короткими скачками. Зафиксируйте сообщение, потому что я хочу, чтобы это начальное слово было обновлено. Вот здесь есть партнер, которого вы можете скопировать. Вы можете ознакомиться с этой информацией в документации.  И в результате получится что-то вроде  этого.
Это обновление для партнеров зависит от уровня подготовки, а затем оттого, откуда вы можете добавить слово, если хотите.
Я думаю, что измени это, чтобы добавить проблему со словом … . А затем перейдем к правилам упаковки, которые, по-моему, являются самыми важными.
Обязательно соблюдайте один и тот же порядок, потому что ведутся ремонтные работы именно таким образом.
Давайте вернемся к issues. У нас есть три варианта issues. У нас есть Kotlin, Android и Gradle.
Итак, все начинается с этого. Первый шаг обновление – это считывание первого элемента из массива. У нас есть Kotlin, затем Android, а затем Gradle. Это будет единый PR-проект.
Но суть в том, что у нас здесь три PR-проекта, потому что у меня больше групп.
Далее нам нужно разделиться, если у нас есть какие-то проблемы с Kotlin. Помните, что у нас есть вот это. И теперь это будет еще один PR-ход. Вот здесь PR-ход №1, а здесь PR-ход №2. Вот и все.
Затем давайте перейдем к следующему элементу. Теперь у нас есть плагин для Android. Это круто! Это означает, что у нас есть третий пиарщик. Библиотека для Android будет находиться именно здесь 31 числа.
И наконец, тестовая версия зависит от вас. Но у вас нет никаких обновлений тестовых версий. В данном случае это будет всего лишь три PR.
У нас есть три PR. Один для Kotlin, один для Android и один для Gradle. Вот и все. Так что Android здесь больше нет, потому что он находится на третьем этапе PR.
Вот так работает программа Renovate. Давайте постараемся следовать одному и тому же порядку. Если вы это измените и добавите к последнему элементу, то ничего не получится.
Я могу показать, что эти ремонтники очень надежны, потому что даже Google использует эту библиотеку.
Как вы видите, в репозитории образцов архитектуры они были созданы две недели назад в соответствии с проектом. У них есть точно такая же группа, но здесь у них больше возможностей. У них есть компилятор.
Я использую компилятор. Но в моем случае я установил параметры компоновки, но это одно и то же.
Кроме того, у них есть и другие материалы. Json и KSP. Я думаю, что это лучшая идея использовать группу, потому что вы можете быть уверены, что если вы что-то обновите, то это не повлияет ни на что другое.
У меня есть хороший пример, поэтому я не могу обновить параметры компоновки. И я не смогу обновить до последней версии, потому что нет поддержки компилятора.
Вы можете перейти по этой ссылке и доказать, что я не ошибаюсь. Последняя версия 1.4.4 и она поддерживает только эту версию Kotlin. В этом случае у нас нет никакой поддержки. В данном случае мы не сможем объединиться в PR, потому что проверка будет провалена. Но дело в том, что у нас нет ни одного check.
Как вы видите, если вы откроете запрос и перейдете вот сюда, выберете запрос на ввод, количество проверок будет равно нулю. Это будет видео будущего года. Скорее всего, оно будет следующим, потому что это очень важно. Мы можем включить в него LinkedIn. Kotlin связала … .
Я думаю, что на данный момент я внедрил только модульное тестирование, инструментальное тестирование и тестирование Kotlin. Все остальное нам нужно включить в программу. Но суть в том, что мы собираемся отсканировать наш код. И если все будет в порядке, вы сможете объединить результаты PR. 
Как будто бы нам не нужно создавать PR, а затем снова запускать его локально в нашем симуляторе, виртуальном устройстве или физическом устройстве. Потому что все проверки скажут нам: «Хорошо, теперь ты можешь объединиться. Я проверяю все, что ты настроил, и ты в безопасности. Продолжай в том же духе!». 